#!/usr/bin/env python3

import os
import subprocess
import sys


if __name__ == '__main__':

    try:
        project = sys.argv[1]
    except IndexError:
        project = os.path.split(os.getcwd())[-1]

    with open(f'deps.{project}.txt', 'w') as fh:
        fh.write(subprocess.check_output(
            ['./gradlew', f':{project}:dependencies'],
            stderr=fh,
            text=True
        ))
