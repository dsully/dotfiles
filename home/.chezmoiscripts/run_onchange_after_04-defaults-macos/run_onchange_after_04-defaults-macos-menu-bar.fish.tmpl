#!{{ lookPath "fish" }}

# vim:ft=fish

source "{{ .chezmoi.sourceDir }}/.chezmoiscripts/.00_helpers.fish"

function menu_bar
    sub_task "Menu Bar"

    # Disable the flag / keyboard icon.
    defaults write com.apple.TextInputMenu visible -bool false

    # Disable menu bar transparency
    defaults write NSGlobalDomain AppleEnableMenuBarTransparency -bool false

    defaults write com.apple.systemuiserver "NSStatusItem Visible com.apple.menuextra.appleuser" -bool false
    defaults write com.apple.systemuiserver "NSStatusItem Visible com.apple.menuextra.clock" -bool false
    defaults write com.apple.systemuiserver "NSStatusItem Visible com.apple.menuextra.bluetooth" -bool true
    defaults write com.apple.systemuiserver "NSStatusItem Visible com.apple.menuextra.volume" -bool false
end

if is_macos
    menu_bar
end
